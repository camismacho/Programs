//---ProHelp for Canvas
//---Call Script for Canvas-
//---Copyright-2019--ProLaunch Pty Ltd-

var phConfig={platform:"canvaslms",server:"trial",version:"0.7.02"},phHelpData=new Array;!function(){function e(){dataLayer.push(arguments)}function r(e,r){if("script"===r){var s=document.createElement("script");s.type="text/javascript",s.src=e}else if("link"===r){var s=document.createElement("link");s.rel="stylesheet",s.href=e}document.getElementsByTagName("head")[0].appendChild(s)}function s(e){"true"===proHelpConfig.debugmode&&console.log(e)}var o="https://"+phConfig.server+".prohelp.prolaunch.io/";s("phServer:"+phConfig.server),s("phVersion:"+phConfig.version),s("phSiteURL:"+proHelpConfig.siteUrl),s("phCustomID:"+proHelpConfig.CID);var n=phConfig.server,t=phConfig.version,a=proHelpConfig.siteUrl,i=proHelpConfig.users,l=proHelpConfig.debugmode,p=proHelpConfig.CID;if(function(){if("canvaslms"===phConfig.platform)if(ENV)if(null!==ENV.current_user_roles){if(phConfig.user_roles=ENV.current_user_roles,"trial"===phConfig.server){if(phConfig.user_roles.splice(phConfig.user_roles.indexOf("student"),1),!(phConfig.user_roles.indexOf("admin")>=0||phConfig.user_roles.indexOf("teacher")>=0))return s("Admin or Teacher NOT found on Trial - Dont load"),!1;s("Admin or Teacher found on Trial - load")}phConfig.user_roles.indexOf("admin")>=0?(phConfig.user_roles=["user","teacher","admin"],s("UserRole [user-teacher-admin].")):phConfig.user_roles.indexOf("teacher")>=0&&(phConfig.user_roles=["user","teacher"],s("UserRole [user-teacher]."))}else phConfig.user_roles=["user"],s("Canvas UserRole null. Default.");else phConfig.user_roles=["user"],s("Canvas ENV not found. Default.");s("phConfig.user_roles:"+phConfig.user_roles);for(var e=proHelpConfig.users.split(","),r=0;r<phConfig.user_roles.length;r++)for(var o=0;o<e.length;o++)return e[o]===phConfig.user_roles[r]&&s("CallScript - Files Loaded. And proHelpConfig user_roles match:"+phConfig.user_roles[r]),!0;return s("CallScript - Files NOT Loaded. Users not supported."),!1}()&&(r(o+"ph-canvas-display-data-4.58.js","script"),r(o+"ph-display-8.01.js","script"),r(o+"ph-allcss-3.00.css","link"),r("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css","link")),proHelpConfig.CID){r(o+"cid/"+proHelpConfig.CID.replace(/[^a-zA-Z 0-9 -]+/g,"")+".js","script")}r("https://www.googletagmanager.com/gtag/js?id=UA-118761437-3","script"),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-118761437-3");var f=document.createTextNode("(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','phDataLayer','GTM-K7SS2BB');"),u=document.createElement("script");u.type="text/javascript",u.async=!0,u.appendChild(f),document.getElementsByTagName("head")[0].appendChild(u),phDataLayer.push({phserver:n,phversion:t,phsiteurl:a,phusers:i,phdebug:l,phcustomid:p})}();
